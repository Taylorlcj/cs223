/* -----------------------------------------------
   Submitted By: <Taylor Jensen>
   Homework Number: <7>
    Credit to:
       <Taylor Jensen>
   Submitted On: <7/29/22>

   By submitting this program with my name,
   I affirm that the creation and modification
         of this program is primarily my own work.
 ------------------------------------------------ */
// include files
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <math.h>

int main()
{
    FILE *f1,*f2;
    f1 = fopen("location.txt","r"); // opening file in read mode
    f2 = fopen("distance.txt","w"); // opening file in write mode

    // writing header in distance.txt file
    fprintf(f2,"%s","Name");
    fprintf(f2,"%s","   "); // printing two tabs space
    fprintf(f2,"%s","Distance");
    fprintf(f2,"%c",'\n'); // printing new line

    printf("Name\t\tX\tY\tZ\tDistance\n");
    char line[100]; // char array to store line of location .tx file
    while(fgets(line,100,f1)) // reading file by line
    {
          char *word  = strtok(line," \n"); // strtok to seperate out the words from line
          int x,y,z;
          char name[100];
          int flag=0;
          while(word!=NULL)  // assigning values to x ,y and z
          {
              if(flag==0)
              strcpy(name,word);
              else if(flag==1)
              x = atoi(word);
              else if(flag==2)
              y = atoi(word);
              else if(flag==3)
              z = atoi(word);

              word = strtok(NULL," \n");
              flag++;
          }

          double dis = sqrt(x*x + y*y + z*z);

          // writing data to distance.txt file
          fprintf(f2,"%s",name);
          fprintf(f2,"%s","   ");

          fprintf(f2,"%.2lf",dis);
    }
}
